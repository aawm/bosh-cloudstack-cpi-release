---

cloudstack:
  endpoint: <%= p('cloudstack.endpoint') %>
  api_key: <%= p('cloudstack.api_key') %>
  secret_access_key: <%= p('cloudstack.secret_access_key') %>
  default_key_name: <%= p('cloudstack.default_key_name') %>
  private_key: <%= p('cloudstack.private_key') %>
  state_timeout: <%= p('cloudstack.state_timeout') %>
  state_timeout_volume: <%= p('cloudstack.state_timeout_volume') %>
  stemcell_public_visibility: <%= p('cloudstack.stemcell_public_visibility') %>
  stemcell_publish_timeout: <%= p('cloudstack.stemcell_publish_timeout') %> 
  stemcell_requires_hvm: <%= p('cloudstack.stemcell_requires_hvm') %>
  stemcell_os_type: <%= p('cloudstack.stemcell_os_type') %> 
  default_zone: <%= p('cloudstack.default_zone') %>
  proxy_host: <%= p('cloudstack.proxy_host') %>
  proxy_port: <%= p('cloudstack.proxy_port') %>
  proxy_user: <%= p('cloudstack.proxy_user') %>
  proxy_password: <%= p('cloudstack.proxy_password') %>

cpi:
  webdav_host: <%= p('cpi.webdav_host') %>
  webdav_port: <%= p('cpi.webdav_port') %>
  webdav_directory: <%= p('cpi.webdav_directory') %>
  core:
    user: <%= p('cpi.core.user') %>
    password: <%= p('cpi.core.password') %>
    
  default_disk_offering: <%= p('cpi.default_disk_offering') %>    
  default_ephemeral_disk_offering: <%= p('cpi.default_ephemeral_disk_offering') %>
  vm_create_delay: <%= p('cpi.vm_create_delay') %>  
  vm_expunge_delay: <%= p('cpi.vm_expunge_delay') %>
  force_expunge: <%= p('cpi.force_expunge') %> 
  use_dhcp: <%= p('cpi.use_dhcp') %>
  lightstemcell:
    network_name: <%= p('cpi.lightstemcell.network_name') %>
    instance_type: <%= p('cpi.lightstemcell.instance_type') %>

  registry:
    endpoint: <%= p('cpi.registry.endpoint') %>
    user: <%= p('cpi.registry.user') %>
    password: <%= p('cpi.registry.password') %>

  blobstore:
    provider: <%= p('cpi.blobstore.provider') %>
    path: <%= p('cpi.blobstore.path') %>
    address: <%= p('cpi.blobstore.address') %>
    port: <%= p('cpi.blobstore.port') %>
    options:
      user: <%= p('cpi.blobstore.agent.user') %>
      password: <%= p('cpi.blobstore.agent.password') %>
  
  agent:
    mbus: <%= p('cpi.agent.mbus') %>
  ntp: <%= p('cpi.ntp') %>   

logging:
  level: DEBUG

management:
  context-path: /admin    


spring:
  application:
    name: cloudstack-cpi
  main:
    show-banner: false
  datasource:
    url:  jdbc:hsqldb:file:/var/vcap/store/cloudstack_cpi/db
  jpa:
    hibernate:
      ddl-auto: none
  cache:
    ehcache:
      config: ehcache.xml
  sleuth:
    enabled: <%= p('cpi.zipkin.enabled') %>
    sampler:
      percentage: <%= p('cpi.zipkin.sampler-percentage') %>
  zipkin:
    enabled: <%= p('cpi.zipkin.enabled') %>
    base-url: <%= p('cpi.zipkin.base-url') %> 
      


pidfile: /var/vcap/sys/run/cloudstack_cpi/cpi.pid

server:
  port: <%= p('cpi.port') %>
